---
import { getCollection } from "astro:content";
import Layout from "@layouts/Layout.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import LinkButton from "@components/LinkButton.astro";
import Hr from "@components/Hr.astro";
import Socials from "@components/Socials.astro";
import getSortedPosts from "@utils/getSortedPosts";
import { SITE, SOCIALS } from "@config";

const posts = await getCollection("blog");

const sortedPosts = getSortedPosts(posts);
const featuredPosts = sortedPosts.filter(({ data }) => data.featured);
const recentPosts = sortedPosts.filter(({ data }) => !data.featured);

const socialCount = SOCIALS.filter(social => social.active).length;
---

<Layout>
  <Header />
  <main id="main-content">
    <section id="hero">
      <h1>Uc Genie</h1>
      
      <p>
        This is a hack program for Genshin Impact that, once activated, provides a variety of features to enhance your gaming experience. Click on the Social Links to contact us on <a href="https://t.me/uc_genie" target="_blank">Telegram</a> for a free trial period. Below, please see the introduction.
      </p>

      <h2>Comprehensive and powerful features.</h2>
      <p>
        Currently, there are 29 stable features available, including enhanced attack, skip cutscenes, wide-range auto looting, one-click teleportation, and more. These features can improve gameplay efficiency and enhance your gaming experience. If you want to learn more about all the features in detail, please click on the <a href="https://999999999.com" target="_blank">Full Feature Breakdown</a> page.
      </p>

      <h2>Safety, safety, and more safety.</h2>
      <p>
        At UC Genie, player safety is our top priority. Our development philosophy is centered around players, ensuring that we never introduce any risky features. Before any update, our Beta testers conduct rigorous testing for over two weeks. Since the initial release in 2021, there have been no account bans worldwide.
      </p>

      <h2>Game Version: GLOBAL</h2>
      <h2>Supported Operating Systems: Windows 10/11</h2>
      
      <div class="buy-button-wrapper">
        <a href="https://www.ucgenie.com/" target="_blank" class="buy-button"><strong>Click to Buy Uc Genie Store</strong></a>
      </div>

      {
        // Social Links Section
        socialCount > 0 && (
          <div class="social-wrapper">
            <div class="social-links">Social Links:</div>
            <Socials />
          </div>
        )
      }
    </section>

    <Hr />

    {
      featuredPosts.length > 0 && (
        <>
          <section id="featured">
            <h2>Featured</h2>
            <ul>
              {featuredPosts.map(({ data, slug }) => (
                <Card
                  href={`/posts/${slug}/`}
                  frontmatter={data}
                  secHeading={false}
                />
              ))}
            </ul>
          </section>
          {recentPosts.length > 0 && <Hr />}
        </>
      )
    }

    {
      recentPosts.length > 0 && (
        <section id="recent-posts">
          <h2>Recent Posts</h2>
          <ul>
            {recentPosts.map(
              ({ data, slug }, index) =>
                index < SITE.postPerIndex && (
                  <Card
                    href={`/posts/${slug}/`}
                    frontmatter={data}
                    secHeading={false}
                  />
                )
            )}
          </ul>
        </section>
      )
    }

    <div class="all-posts-btn-wrapper">
      <LinkButton href="/posts/">
        All Posts
        <svg xmlns="http://www.w3.org/2000/svg"
          ><path
            d="m11.293 17.293 1.414 1.414L19.414 12l-6.707-6.707-1.414 1.414L15.586 11H6v2h9.586z"
          ></path>
        </svg>
      </LinkButton>
    </div>
  </main>

  <Footer />
</Layout>

<style>
  /* ===== Hero Section ===== */
  #hero {
    padding-bottom: 6rem;
    padding-top: 8rem;
  }
  #hero h1 {
    margin: 4rem 0;
    display: inline-block;
    font-size: 3rem;
    font-weight: bold;
  }
  #hero p {
    margin: 2rem 0;
  }
  #hero h2 {
    color: var(--theme-color-orange); /* Set heading color to theme orange */
    margin-top: 20px; /* Add spacing between sections */
  }
  
  .buy-button-wrapper {
    margin-top: 30px; /* Adjust position to above Social Links */
    text-align: center;
  }
  
  .buy-button {
    font-size: 1.5rem; /* Increase font size */
    font-weight: bold; /* Bold the text */
    color: var(--theme-color-orange); /* Set button text color to orange */
    text-decoration: none;
    display: inline-block;
    padding: 10px 20px;
    border: 2px solid var(--theme-color-orange);
    border-radius: 5px;
    transition: background-color 0.3s ease;
  }

  .buy-button:hover {
    background-color: var(--theme-color-orange); 
    color: white;
  }

  .social-wrapper {
    margin-top: 4rem;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .social-links {
    margin-bottom: 1rem;
    margin-right: 2rem;
    white-space: nowrap;
  }

  /* ===== Featured & Recent Posts Sections ===== */
  #featured,
  #recent-posts {
    padding-bottom: 6rem;
    padding-top: 12rem;
  }
  #featured h2,
  #recent-posts h2 {
    font-size: 2rem;
    font-weight: 600;
    letter-spacing: 0.05rem;
  }
  .all-posts-btn-wrapper {
    margin: 8rem 0;
    text-align: center;
  }
</style>
